---
layout: fexo
title: angularJS入门
date: 2019-07-30T18:27:55.000Z
tags: null
permalink: 2019-07-30-angular-tutorial
---
资料来源
https://www.angularjs.net.cn/tutorial/22.html


## scope
作用域作为数据模型使用
其实可以很简单地理解为有以下两个链条关系：

控制器 --> 作用域 --> 视图（DOM）
指令 --> 作用域 --> 视图（DOM）

## provider
注入器创建两类对象，服务和专用对象。

* 服务是对象，而这些对象的API是由编写服务的开发人员所决定的。

* 专用对象遵循Angular框架特定的API。这些对象包括**控制器，指令，过滤器或动画**。

注入器需要知道如何去创建这些对象。你应该通过注册一种“图纸”来告诉Angular如何创建你的对象。这里共有5种图纸

Provider图纸，其余4种分别是 —— Value，Factory，Service和Constant，这4种都只是基于Provider之上的语法糖。


#### 关于模块
为了使注入器知道如何创建这些对象，并让它们能绑定在一起协同工作，我们需要一张关于“图纸”的注册表。每个图纸都有对象的识别码以及如何创建该对象的说明。

每个图纸都属于一个Angular模块。一个Angular模块就像是装着一张或多张图纸的袋子。通过手工记录模块依赖关系是很无趣的工作，所以一个模块里也应该包含该模块依赖于哪些其他模块的信息。

**当基于Angular的应用从一个指定的应用模块启动时，Angular会创建一个注入器的实例，紧接着该注入器实例就会创建一张包含“图纸”的注册表，这张注册表就是由Angular核心模块、应用模块以及应用模块的依赖里面定义的所有图纸的集合。当注入器需要为你的应用创建一个对象时，注入器就会查询这张注册表**。(injector中的cache)

#### constant图纸
既然简单的值，例如url前缀，并不依赖其他服务或配置，那么使他们在配置和运行阶段都可访问的话，就可以让我们更得心应手一些。这就是Constant图纸存在的意义。


## $location服务
负责解析地址栏中的url, 类比react-router, vue-router

$location服务有两种配置模式，它将控制浏览器地址栏中的地址显示格式：Hashbang模式（默认）和HTML5模式

## 单元测试
单元测试，顾名思义就是用于测试代码中不可分割的单元。单元测试试图回答下列问题：“我所认为的逻辑正确吗？”或者“我的sort函数是否按照正确的顺序排序了这个列表？”

最重要的事情就是：我们要能把这个单元的代码隔离到一个独立的test模块中。 这是因为我们测试sort函数的时候，绝不会希望也被迫创建相关的部分 —— 比如DOM元素，或者先发起一个XHR调用来获取完数据才能测试sort函数，一个典型的项目中，想要调用一个独立函数确实是非常困难的。 原因在于，开发人员经常会把不同的任务揉成一团，导致一部分代码中往往会做很多很多事：发起XHR请求，对返回的数据进行排序，然后更新到DOM。

angualr做了两件事
* 依赖注入
* 建立抽象层， 如controller层， filter层， directive层

## 端对端测试
介绍了angular自己的测试框架， protractor
